(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{20:function(n,t,e){},40:function(n,t,e){"use strict";e.r(t);var c=e(2),o=e.n(c),r=e(15),u=e.n(r),a=(e(20),e(4)),i=e(0),s=function(n){var t=n.contacts,e=n.handleDelete;return t.map((function(n){return Object(i.jsxs)("li",{style:{listStyleType:"none"},children:[" ",n.name," ",n.number," "," ",Object(i.jsx)("button",{onClick:function(){return e(t,n.name)},children:" Delete "})," "]},n.name)}))},h=function(n,t){return n.filter((function(n){return!0===n.name.includes(t)}))},d=e(6),j=e(3),f=e.n(j),b="http://fast-shelf-38290.herokuapp.com/api/contacts",l=function(){return f.a.get(b).then((function(n){return n.data}))},O=function(n){return f.a.post(b,n).then((function(n){return n.data}))},m=function(n,t){var e=n.find((function(n){return n.name===t})).id;return f.a.delete("".concat(b,"/").concat(e)).then((function(n){return n.data}))},p=function(n,t,e){var c=n.find((function(n){return n.name===e})),o=c.id,r=Object(d.a)(Object(d.a)({},c),{},{number:t});return f.a.put("".concat(b,"/").concat(o),r).then((function(n){return n.data}))},v=function(){var n=Object(c.useState)([]),t=Object(a.a)(n,2),e=t[0],o=t[1],r=Object(c.useState)(""),u=Object(a.a)(r,2),d=u[0],j=u[1],f=Object(c.useState)(""),b=Object(a.a)(f,2),v=b[0],x=b[1],g=Object(c.useState)(""),w=Object(a.a)(g,2),S=w[0],y=w[1];Object(c.useEffect)((function(){l().then((function(n){return o(n)}))}),[]);var C=""===S?e:h(e,S);return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"Phonebook"}),Object(i.jsx)("h2",{children:"Search"}),Object(i.jsxs)("div",{children:["Search: ",Object(i.jsx)("input",{value:S,onChange:function(n){y(n.target.value)}})]}),Object(i.jsx)("h2",{children:"Add New Contacts"}),Object(i.jsxs)("form",{onSubmit:function(n){if(n.preventDefault(),e.some((function(n){return n.name===d}))){window.confirm("".concat(d," is already added to the phonebook, do you want to replace the old number with a new one?"))&&p(e,v,d).then((function(n){return o(e.map((function(t){return t.name!==d?t:n})))}))}else{var t={name:d,number:v,id:e.length+1};O(t).then((function(n){o(e.concat(n)),j(""),x("")}))}},children:[Object(i.jsxs)("div",{children:["Name: ",Object(i.jsx)("input",{value:d,onChange:function(n){j(n.target.value)}})]}),Object(i.jsxs)("div",{children:["Phone: ",Object(i.jsx)("input",{value:v,onChange:function(n){x(n.target.value)}})]}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{type:"submit",children:"add"})})]}),Object(i.jsx)("h2",{children:"Contacts"}),Object(i.jsx)(s,{contacts:C,handleDelete:function(n,t){window.confirm("Are you sure that you want to delete ".concat(t,"?"))&&m(n,t).then((function(){return o(n.filter((function(n){return n.name!==t})))}))}})]})},x=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,41)).then((function(t){var e=t.getCLS,c=t.getFID,o=t.getFCP,r=t.getLCP,u=t.getTTFB;e(n),c(n),o(n),r(n),u(n)}))};u.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(v,{})}),document.getElementById("root")),x()}},[[40,1,2]]]);
//# sourceMappingURL=main.bbacd871.chunk.js.map